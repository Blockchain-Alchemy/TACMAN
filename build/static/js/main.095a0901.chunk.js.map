{"version":3,"sources":["configs/index.ts","contexts/NetworkProvider/Provider.tsx","contexts/WalletProvider/Provider.tsx","contexts/NetworkProvider/index.tsx","contexts/WalletProvider/index.tsx","Providers.tsx","components/wallet/ConnectButton/index.tsx","components/layout/Header/index.tsx","contexts/UnityProvider/Provider.tsx","components/unity/Unity/index.tsx","pages/Home/Play/index.tsx","contexts/UnityProvider/index.tsx","pages/Home/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Networks","NetworkType","MAINNET","RpcUrl","Market","UUSD","JAKARTANET","NetworkContext","createContext","NetworkProvider","value","children","useState","networkType","setNetworkType","config","setConfig","useEffect","Provider","WalletContext","scopes","PermissionScope","OPERATION_REQUEST","SIGN","WalletProvider","networkContext","useContext","undefined","Error","useNetwork","TezosToolkit","tezos","setTezos","wallet","setWallet","publicKey","setPublicKey","address","setAddress","connected","setConnected","clearActiveAccount","_wallet","BeaconWallet","name","preferredNetwork","disableDefaultEvents","eventHandlers","BeaconEvent","PAIR_INIT","handler","defaultEventCallbacks","PAIR_SUCCESS","data","console","log","setWalletProvider","connectWallet","useCallback","Promise","resolve","client","requestPermissions","network","type","rpcUrl","permissions","accountInfo","getPKH","disconnectWallet","useWallet","walletContext","Providers","position","ConnectWallet","className","onClick","Header","href","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","UnityContext","UnityProvider","unityConfig","unityContext","useUnityContext","UnityContainer","styled","div","Loader","UnityWrapper","eventListeners","styles","isLoaded","loadingProgression","addEventListener","removeEventListener","forEach","event","eventName","callback","unityProvider","style","Math","round","Play","sendMessage","onSendTransaction","amount","transfer","to","send","op","confirmation","toast","success","error","onSendScore","score","useMemo","Unity","height","width","background","loaderUrl","dataUrl","frameworkUrl","codeUrl","Home","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.095a0901.chunk.js","sourcesContent":["import { NetworkType } from '@airgap/beacon-sdk';\r\n\r\nexport type NetworkConfig = {\r\n  RpcUrl: string;\r\n  Market: string;\r\n  UUSD: string;\r\n};\r\n\r\ntype ConfigMap = {\r\n  [key in NetworkType]?: NetworkConfig;\r\n};\r\n\r\nexport const Networks: ConfigMap = {\r\n  [NetworkType.MAINNET]: {\r\n    RpcUrl: 'https://mainnet.smartpy.io',\r\n    \r\n    Market: 'KT1P5Cvfu3TXzxPtowxND6gDfNxrzzkG8oyW', //'KT1V2tXEnb43yxxeb93N8E3ho6kVeTbsmVwC',\r\n    UUSD: 'KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW',\r\n  },\r\n  [NetworkType.JAKARTANET]: {\r\n    RpcUrl: 'https://jakartanet.tezos.marigold.dev',\r\n    Market: '',\r\n    UUSD: '',\r\n  },\r\n};\r\n","import { NetworkType } from '@airgap/beacon-sdk';\r\nimport React, { createContext, useEffect, useState, ReactNode } from 'react';\r\nimport { Networks } from 'configs';\r\nimport { NetworkContextApi } from './types';\r\n\r\nexport const NetworkContext = createContext<NetworkContextApi>(\r\n  {} as NetworkContextApi\r\n);\r\n\r\ntype Props = {\r\n  children: ReactNode;\r\n  value: NetworkType;\r\n};\r\n\r\nexport const NetworkProvider: React.FC<Props> = ({ value, children }) => {\r\n  const [networkType, setNetworkType] = useState(value);\r\n  const [config, setConfig] = useState(Networks[value]!);\r\n\r\n  useEffect(() => {\r\n    const config = Networks[networkType]!;\r\n    setConfig(config);\r\n  }, [networkType]);\r\n\r\n  return (\r\n    <NetworkContext.Provider\r\n      value={{\r\n        networkType,\r\n        config,\r\n        setNetworkType,\r\n      }}\r\n    >\r\n      {children}\r\n    </NetworkContext.Provider>\r\n  );\r\n};\r\n","import React, {\r\n  createContext,\r\n  useEffect,\r\n  useState,\r\n  useCallback,\r\n  ReactNode,\r\n} from \"react\";\r\nimport {\r\n  BeaconEvent,\r\n  defaultEventCallbacks,\r\n  PermissionScope,\r\n} from \"@airgap/beacon-sdk\";\r\nimport { BeaconWallet } from \"@taquito/beacon-wallet\";\r\nimport { TezosToolkit } from \"@taquito/taquito\";\r\nimport { useNetwork } from \"contexts/NetworkProvider\";\r\nimport { WalletContextApi } from \"./types\";\r\n\r\nexport const WalletContext = createContext<WalletContextApi>(\r\n  {} as WalletContextApi\r\n);\r\n\r\nconst scopes: PermissionScope[] = [\r\n  PermissionScope.OPERATION_REQUEST,\r\n  PermissionScope.SIGN,\r\n];\r\n\r\nexport const WalletProvider: React.FC<{ children: ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const { networkType, config } = useNetwork();\r\n  const [tezos, setTezos] = useState(new TezosToolkit(config.RpcUrl));\r\n  const [wallet, setWallet] = useState<BeaconWallet>();\r\n  const [publicKey, setPublicKey] = useState<string | undefined>(undefined);\r\n  const [address, setAddress] = useState<string | undefined>(undefined);\r\n  const [connected, setConnected] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    setAddress(undefined);\r\n    setConnected(false);\r\n    setTezos(new TezosToolkit(config.RpcUrl));\r\n  }, [config]);\r\n\r\n  /* eslint-disable react-hooks/exhaustive-deps */\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (wallet) {\r\n        await wallet.clearActiveAccount();\r\n      }\r\n\r\n      const _wallet = new BeaconWallet({\r\n        name: \"GFT\",\r\n        preferredNetwork: networkType,\r\n        disableDefaultEvents: true, // Disable all events / UI. This also disables the pairing alert.\r\n        eventHandlers: {\r\n          // To keep the pairing alert, we have to add the following default event handlers back\r\n          [BeaconEvent.PAIR_INIT]: {\r\n            handler: defaultEventCallbacks.PAIR_INIT,\r\n          },\r\n          [BeaconEvent.PAIR_SUCCESS]: {\r\n            handler: (data) => console.log(data.publicKey),\r\n          },\r\n        },\r\n      });\r\n\r\n      console.log(\"setWalletProvider\", _wallet);\r\n      tezos.setWalletProvider(_wallet);\r\n      setWallet(_wallet);\r\n    })();\r\n  }, [tezos, networkType]);\r\n\r\n  const connectWallet = useCallback(async () => {\r\n    if (!wallet) {\r\n      return Promise.resolve(undefined);\r\n    }\r\n    try {\r\n      console.log(\"Request Permission\", networkType, config.RpcUrl);\r\n      const permissions = await wallet.client.requestPermissions({\r\n        network: {\r\n          type: networkType,\r\n          rpcUrl: config.RpcUrl,\r\n        },\r\n        scopes,\r\n      });\r\n\r\n      const publicKey = permissions.accountInfo.publicKey;\r\n      setPublicKey(publicKey);\r\n\r\n      const address = await wallet.getPKH();\r\n      setAddress(address);\r\n\r\n      setConnected(true);\r\n      return tezos;\r\n    } catch (error) {\r\n      setConnected(false);\r\n    }\r\n  }, [tezos, wallet, networkType, config]);\r\n\r\n  const disconnectWallet = useCallback(async () => {\r\n    setConnected(false);\r\n    setAddress(undefined);\r\n    if (wallet) {\r\n      await wallet.clearActiveAccount();\r\n    }\r\n  }, [wallet]);\r\n\r\n  return (\r\n    <WalletContext.Provider\r\n      value={{\r\n        tezos,\r\n        wallet,\r\n        connected,\r\n        publicKey,\r\n        address,\r\n        connectWallet,\r\n        disconnectWallet,\r\n      }}\r\n    >\r\n      {children}\r\n    </WalletContext.Provider>\r\n  );\r\n};\r\n","import { useContext } from 'react';\r\nimport { NetworkContext, NetworkProvider } from './Provider';\r\n\r\nconst useNetwork = () => {\r\n  const networkContext = useContext(NetworkContext);\r\n\r\n  if (networkContext === undefined) {\r\n    throw new Error('Network context undefined');\r\n  }\r\n\r\n  return networkContext;\r\n};\r\n\r\nexport { useNetwork, NetworkProvider };\r\n","import { useContext } from 'react';\r\nimport { WalletContext, WalletProvider } from './Provider';\r\n\r\nconst useWallet = () => {\r\n  const walletContext = useContext(WalletContext);\r\n\r\n  if (walletContext === undefined) {\r\n    throw new Error('Wallet context undefined');\r\n  }\r\n\r\n  return walletContext;\r\n};\r\n\r\nexport { useWallet, WalletProvider };\r\n","import { NetworkType } from '@airgap/beacon-sdk';\r\nimport React, { ReactNode } from 'react';\r\nimport { Toaster } from \"react-hot-toast\";\r\nimport { NetworkProvider } from './contexts/NetworkProvider';\r\nimport { WalletProvider } from './contexts/WalletProvider';\r\n\r\nconst Providers: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  return (\r\n    <NetworkProvider value={NetworkType.MAINNET}>\r\n      <Toaster position=\"top-center\" />\r\n      <WalletProvider>{children}</WalletProvider>\r\n    </NetworkProvider>\r\n  );\r\n};\r\n\r\nexport default Providers;\r\n","import { useWallet } from 'contexts/WalletProvider';\r\n\r\nconst ConnectWallet = () => {\r\n  const { address, connectWallet, disconnectWallet } = useWallet();\r\n\r\n  const handleConnect = () => {\r\n    if (!address) {\r\n      connectWallet();\r\n    } else {\r\n      disconnectWallet();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className=\"block px-6 py-2.5 mt-4 font-medium leading-5 text-center text-white capitalize bg-blue-600 rounded-lg lg:mt-0 hover:bg-blue-500 lg:w-auto\"\r\n      onClick={handleConnect}\r\n    >\r\n      {!address ? 'Connect Wallet' : 'Disconnect'}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ConnectWallet;\r\n","import ConnectWallet from 'components/wallet/ConnectButton';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <nav className=\"container p-6 mx-auto lg:flex lg:justify-between lg:items-center\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <a\r\n            className=\"text-2xl font-bold text-gray-800 dark:text-white lg:text-3xl hover:text-gray-700 dark:hover:text-gray-300\"\r\n            href=\"/\"\r\n          >\r\n            GFT - Gaming Framework for Tezos\r\n          </a>\r\n        </div>\r\n\r\n        {/* Mobile menu button */}\r\n        <div className=\"flex lg:hidden\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"text-gray-500 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-400 focus:outline-none focus:text-gray-600 dark:focus:text-gray-400\"\r\n            aria-label=\"toggle menu\"\r\n          >\r\n            <svg\r\n              x-show=\"!isOpen\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"w-6 h-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M4 8h16M4 16h16\"\r\n              />\r\n            </svg>\r\n\r\n            <svg\r\n              x-show=\"isOpen\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"w-6 h-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M6 18L18 6M6 6l12 12\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Menu open: \"block\", Menu closed: \"hidden\" */}\r\n      <div className=\"absolute inset-x-0 z-20 w-full px-6 py-4 transition-all duration-300 ease-in-out bg-white shadow-md lg:bg-transparent lg:dark:bg-transparent lg:shadow-none dark:bg-gray-900 lg:mt-0 lg:p-0 lg:top-0 lg:relative lg:w-auto lg:opacity-100 lg:translate-x-0 lg:flex lg:items-center\">\r\n        <div className=\"flex flex-col space-y-4 lg:mt-0 lg:flex-row lg:-px-8 lg:space-y-0\">\r\n          <a\r\n            className=\"text-gray-700 transition-colors duration-300 transform lg:mx-8 dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500\"\r\n            href=\"https://github.com/Blockchain-Alchemy/GFT\"\r\n          >\r\n            Github Repo\r\n          </a>\r\n          <a\r\n            className=\"text-gray-700 transition-colors duration-300 transform lg:mx-8 dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500\"\r\n            href=\"https://github.com/Blockchain-Alchemy/GFT#readme\"\r\n          >\r\n            Readme\r\n          </a>\r\n          <a\r\n            className=\"text-gray-700 transition-colors duration-300 transform lg:mx-8 dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500\"\r\n            href=\"https://medium.com/@Dreitser/gtf-gaming-framework-for-tezos-b69d37cca891\"\r\n          >\r\n            Medium Article\r\n          </a>\r\n          <a\r\n            className=\"text-gray-700 transition-colors duration-300 transform lg:mx-8 dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500\"\r\n            href=\"https://blockalc.com/pages/contact\"\r\n          >\r\n            Contact\r\n          </a>\r\n        </div>\r\n\r\n        <ConnectWallet />\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { createContext, ReactNode } from 'react';\r\nimport { UnityConfig, useUnityContext } from 'react-unity-webgl';\r\nimport { UnityContextApi } from './types';\r\n\r\nexport const UnityContext = createContext<UnityContextApi>({} as UnityContextApi);\r\n\r\ntype Props = {\r\n  unityConfig: UnityConfig;\r\n  children: ReactNode;\r\n};\r\n\r\nexport const UnityProvider: React.FC<Props> = ({ unityConfig, children }) => {\r\n  const unityContext = useUnityContext(unityConfig);\r\n\r\n  return (\r\n    <UnityContext.Provider\r\n      value={{\r\n        unityContext,\r\n      }}\r\n    >\r\n      {children}\r\n    </UnityContext.Provider>\r\n  );\r\n};\r\n","import { CSSProperties, useEffect } from 'react';\r\nimport { Unity } from 'react-unity-webgl';\r\nimport { UnityContextHook } from 'react-unity-webgl/distribution/types/unity-context-hook';\r\nimport styled from 'styled-components';\r\n\r\nconst UnityContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  min-height: 540px;\r\n  position: relative;\r\n`;\r\n\r\nconst Loader = styled.div`\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 45%;\r\n  transform: translate(-50%, -50%);\r\n  color: white;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport type UnityContext = UnityContextHook;\r\n\r\nexport type UnityEventListener = {\r\n  eventName: string;\r\n  callback: (...parameters: any[]) => any;\r\n};\r\n\r\ntype UnityProps = {\r\n  unityContext: UnityContext;\r\n  eventListeners?: UnityEventListener[];\r\n  styles?: CSSProperties;\r\n};\r\n\r\nconst UnityWrapper = ({ unityContext, eventListeners, styles }: UnityProps) => {\r\n  const { isLoaded, loadingProgression } = unityContext;\r\n\r\n  useEffect(() => {\r\n    const { addEventListener, removeEventListener } = unityContext;\r\n    eventListeners?.forEach((event: UnityEventListener) => {\r\n      addEventListener(event.eventName, event.callback);\r\n    });\r\n    return () => {\r\n      eventListeners?.forEach((event: UnityEventListener) => {\r\n        removeEventListener(event.eventName, event.callback);\r\n      });\r\n    };\r\n  }, [unityContext, eventListeners]);\r\n\r\n  return (\r\n    <UnityContainer>\r\n      <Unity unityProvider={unityContext.unityProvider} style={styles} />\r\n      {!isLoaded && loadingProgression > 0 && (\r\n        <Loader>\r\n          <div>Loading... {Math.round(loadingProgression * 100)}%</div>\r\n        </Loader>\r\n      )}\r\n    </UnityContainer>\r\n  );\r\n};\r\n\r\nexport default UnityWrapper;\r\n","import { useCallback, useMemo } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport { useWallet } from \"contexts/WalletProvider\";\r\nimport { useUnityContext } from \"contexts/UnityProvider\";\r\nimport Unity, { UnityEventListener } from \"components/unity/Unity\";\r\n\r\nconst Play = () => {\r\n  const { tezos, connectWallet } = useWallet();\r\n  const { unityContext } = useUnityContext();\r\n  // const { isLoaded, sendMessage, requestFullscreen } = unityContext;\r\n  const { sendMessage } = unityContext;\r\n\r\n  /*const setFullScreen = useCallback(() => {\r\n    isLoaded && requestFullscreen(false);\r\n  }, [isLoaded, requestFullscreen]);*/\r\n\r\n  /*useEffect(() => {\r\n    (async () => {\r\n      if (isLoaded && address) {\r\n        // Send wallet connected state.\r\n        sendMessage(\"GFT\", \"WalletConnected\", address);\r\n      }\r\n    })();\r\n  }, [isLoaded, sendMessage, address]);*/\r\n\r\n  // Event Listener for transaction\r\n  const onSendTransaction = useCallback(\r\n    async (amount: number) => {\r\n      try {\r\n        console.log(\"onSendTransaction\", amount);\r\n        await connectWallet();\r\n\r\n        console.log(\"Request Transaction\", amount);\r\n        const op = await tezos.wallet\r\n          .transfer({ to: \"tz1M2hCvF5AhhbQAkn3LcZ8DTNBggyAKTCvo\", amount })\r\n          .send();\r\n\r\n        await op.confirmation();\r\n\r\n        sendMessage(\"GFT\", \"TransactionComplete\");\r\n        toast.success(\"Transaction Success\");\r\n        return;\r\n      } catch (err) {\r\n        console.error(err);\r\n        toast.error(\"Something went wrong\");\r\n        sendMessage(\"GFT\", \"TransactionFailed\");\r\n      }\r\n    },\r\n    [tezos, connectWallet, sendMessage]\r\n  );\r\n\r\n  const onSendScore = useCallback(async (score: number) => {\r\n    console.log(\"onSendScore\", score);\r\n  }, []);\r\n\r\n  const eventListeners = useMemo((): UnityEventListener[] => {\r\n    return [\r\n      { eventName: \"SendTransaction\", callback: onSendTransaction },\r\n      { eventName: \"SendScore\", callback: onSendScore },\r\n    ];\r\n  }, [onSendTransaction, onSendScore]);\r\n\r\n  return (\r\n    <div className=\"container mx-auto mt-4 fullscreen\">\r\n      <Unity\r\n        unityContext={unityContext}\r\n        eventListeners={eventListeners}\r\n        styles={{\r\n          height: 540,\r\n          width: 950,\r\n          background: \"#555\",\r\n        }}\r\n      ></Unity>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Play;\r\n","import { useContext } from 'react';\r\nimport { UnityContext, UnityProvider } from './Provider';\r\n\r\nconst useUnityContext = () => {\r\n  const unityContext = useContext(UnityContext);\r\n\r\n  if (unityContext === undefined) {\r\n    throw new Error('Wallet context undefined');\r\n  }\r\n\r\n  return unityContext;\r\n};\r\n\r\nexport { useUnityContext, UnityProvider };\r\n","import { UnityProvider } from 'contexts/UnityProvider';\r\nimport Play from './Play';\r\n\r\nconst unityConfig = {\r\n  loaderUrl: 'Build/public.loader.js',\r\n  dataUrl: 'Build/public.data.unityweb',\r\n  frameworkUrl: 'Build/public.framework.js.unityweb',\r\n  codeUrl: 'Build/public.wasm.unityweb',\r\n};\r\n\r\nconst Home = () => {\r\n  return (\r\n    <UnityProvider unityConfig={unityConfig}>\r\n      <Play />\r\n    </UnityProvider>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import Header from './components/layout/Header';\r\nimport Home from './pages/Home';\r\nimport Providers from './Providers';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <Providers>\r\n      <Header />\r\n      <Home />\r\n    </Providers>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './styles.css';\r\nimport Providers from './Providers';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById('root') as HTMLElement\r\n);\r\n\r\nroot.render(\r\n  <React.StrictMode>\r\n    <Providers>\r\n      <App />\r\n    </Providers>\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}